# multi-label_theme_classification #
The Python script __multi-label_theme_classification.py__ can classify input documents into the following 19 categories of themes that related to natural disasters:  
```
Health
Protection and Human Rights
Food and Nutrition
Water Sanitation Hygiene
Shelter and Non-Food Items
Contributions
Recovery and Reconstruction
Agriculture
Education
Coordination
Peacekeeping and Peacebuilding
Safety and Security
Disaster Management
Logistics and Telecommunications
Climate Change and Environment
Mine Action
HIV/Aids
Gender
Humanitarian Financing
```
This repo belongs to the THOR project (http://usc-isi-i2.github.io/thor/).  
## Dependencies ##
Python 2 envoironment  
Facebook FastText (https://github.com/facebookresearch/fastText)  

## Usage ##
1. Clone this repo  
2. Go to the directory of this repo, run the following command to download the model file  
```
curl -O https://storage.googleapis.com/isi_thor/multi-label_theme_classification/model_wn1_lr1_ws5.bin
```
3. Make configurations in theme_config.json  
4. Run command  
```
python multi-label_theme_classification.py
```
5. Retrieve result (file named as __"result.txt"__ by default)  

## Configuration ##
In the __theme_config.json__ file, there are several fields can be configured:  
1. __data_directory__: the location and file name of the input document you wish to be classified  
2. __fasttext_directory__: the location of Facebook FastText in your machine  
3. __pretrained_model_directory__: the location of the pre-trained FastText model (by default __model_wn1_lr1_ws5.bin__)  
4. __raw_result_filename__: the file name of raw result file generated by FastText  
5. __result_filename__: the file name of the final result  
6. __mode__: "topk" or "threshold"  
7. __k__: number of themes per document you want to retrieve in the final result, and this field only useful when __mode__ is "topk"  
8. __threshold__: what is the threshold (0-1) to define a trustworthy classified theme, and this field only useful when __mode__ is "threshold"  

## Input format ##
Input should be a text file that has each line being a document. Different documents are separated by line break (\n). If your source document has multiple lines, please first preprocess it into a single-line document by concatenating paragraphs using space.  

## Output format ##
Classified labels, one set of labels per line, corresponding to the sequence of input documents.  








